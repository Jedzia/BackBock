<ResourceDictionary
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:data="clr-namespace:Jedzia.BackBock.ViewModel.Data;assembly=Jedzia.BackBock.ViewModel"
    xmlns:wpg="clr-namespace:WPG;assembly=WPG"
      xmlns:wpgtt="clr-namespace:WPG.Themes.TypeEditors;assembly=WPG"
  >

    <DataTemplate x:Key="TestDataTemplate" >
        <StackPanel Orientation="Horizontal">
            <TextBlock x:Name="cnt" Text="{Binding Paths.Count}"/>
            <TextBlock Text="{Binding .}"/>
            <Button Content="..." Command="{Binding EditCollectionCommand}"  Margin="4,0,4,0"/>
            <!--<wpg:PropertyGrid Instance="{Binding ElementName=cnt}" />-->
            <wpgtt:CollectionEditorControl 
                NumerableValue="{Binding Paths}"                                            
                DataContext="{Binding .}"
                NumerableTypeIdentifier="Paths"
                AddTypeCommand="{Binding AddTypeCommand}"
                RemoveTypeCommand="{Binding RemoveTypeCommand}"
                />
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="PathViewModelDataTemplate" DataType="data:PathViewModel">
        <StackPanel>
            <TextBlock Text="{Binding Path}"/>
        </StackPanel>
    </DataTemplate>
    
	<GridView x:Key="BackupDataViewBase1" AllowsColumnReorder="true">
		<GridViewColumn Header="IsEnabled" >
			<GridViewColumn.CellTemplate>
				<DataTemplate>
					<CheckBox IsChecked="{Binding IsEnabled}" />
				</DataTemplate>
			</GridViewColumn.CellTemplate>
		</GridViewColumn>
		<GridViewColumn DisplayMemberBinding="{Binding ItemName}" Header="Name" />
        <GridViewColumn Header="Paths" >
            <GridViewColumn.CellTemplate>
                <DataTemplate>
                    <ListBox ItemsSource="{Binding Paths}" ItemTemplate="{StaticResource PathViewModelDataTemplate}"/>
                </DataTemplate>
            </GridViewColumn.CellTemplate>
        </GridViewColumn>
        <GridViewColumn DisplayMemberBinding="{Binding Test}" Header="Test"/>
	</GridView>
	<!-- Resource dictionary entries should be defined here. -->
</ResourceDictionary>